language: node_js
node_js:
- 12
python:
- 3.6
install:
- npm install
- npm install -g codecov
- npm install -g nyc
- pip install mkdocs
services:
- postgresql
- docker
before_script:
- psql -c 'create database travis_ci_test;' -U postgres
- npm run db-create
script:
- npm test
after_script:
- nyc --reporter=text-lcov npm test > coverage.lcov
- codecov
before_deploy:
- mkdocs build --verbose --clean --strict
deploy:
  provider: pages
  skip_cleanup: true
  github_token: "$GITHUB_TOKEN"
  local_dir: site
  target_branch: gh-pages
  on:
    branch: master
notifications:
  slack:
    secure: U4+tEb6IRX5XHNoX/cCBr0jxEbCINpWbhX3D4kHf2YOPEKtdGeZFZh/hqAwXSRRdQIXiEvmrRTD42IEZwWK4HgZ6ZTeLF2C17afg7o0kvxHbVhp+1PS9/BFUx0+5KrYB8Ew4US8f/qq6myCx7gtI9dZImH2m5EpgmTHTumEWkGK5PHJBbwL/0GYsO551eT2QimaBvUvAIe++rB5fK0MveCaT2T1ZmprQTQWLRY2tLXbKyBTpiIgC73lbXWCadO2MbBCx7dFSIJVfFWWa86E7dXBfK1Nk4EClMYaAdnqM+mFLx01NINOrpYuzXt8RQivP9OAitTdDpqwIqJcmn+uE3r48w6Hf9onojZfqbytOMIvybgPlLPOhZGwRFFa9xZWUG4JT6X747t/RcrEQXl8wbbm7QaRKLk60zgLH0ysvUFLr6cl+CCzZqTmRbWgGh5NiNS1U6XrjiQR4GVZkKPwLjx9+1ZgaayPkzaFReOETgc72X1WJClkm108R2lLfqvn9iF4C19EmuQpLehzXFXIDN5kHHvKFhbG4jiZwYwMQH0R1OqYhrwB3QWO1Scco6Z7zUcrN9S0KDu4p46sUoLsrk6+DP8VbHDMpiPt0wPOJnvzSeoqYgSYYMuCITr/VMvz6VS7E65swNHMJEWsz+SDsLUnamhUHanMPJzGrk7zmnBY=
env:
  global:
  - secure: pG4ZWAp2dSds5RXlH5wT38GIqwT/px7ubgpgioJzFqy8Q9trkxDyEk3hlGeEPASpfdNGRveA5w5JbGedWCQhIDs2SIDcQA/dh8WnDtiGz+RTlAuUUvsy91WyjEsmaPc2D/YFRMSXiUi3QDUXUSXt2SUtBl8hSuzcnnZMy6BtU+edPqR6hO53c23roE8V6h14O+YoUkbfdyRQBMi5G/WFZxLCpWVsiVP7X0IjOES/E+RFU4vAddT/Q3HaX+RJwqWReItCyluMsJhbfYSLI8m1QbZ38hseJgF3SIqPrWMCOsPdh0AlugTMKbWIIsJi1ba4LzmFjrh5so4F0OdhGhKItlCQ2bOlSIF5sd4kAni1BIX8u2MIIaghM0TM7r4owFj5u1a5AbRkLHVu2J7p7SlHM2WYjlbcqnyuwJYcahGJnFI1K8SpeV5p90Cp3ovtN+f9913cZhQWSL1kshYsFhJD4yfO1eD2ljplC3ufblHi7YXaSgQQNNwo3Y/B6x2AKTGqIOy0LQaidvIWI/9ZRBWoQheFJMA4ZBEYidR3D2AwR4G467NYxrLbdf/1iyMDmWR/yOQtBHAYZ/TyxAjJgyLrofse6XoznW8oN5ky30GqonI/3nID6LOHCQppk18idPpfmlAzMh0KjdD6U/4SJOsc+k/Z3aF0MwTwHdDSYPuwefM=
  - secure: c2PQ9Lkzj7nb7jfmp8vzWhgxh0ALMD9o8ylcAsIBwKZFA60Y6cGzBPdTLhjb7UlBXg9JjDtUMZMZZJBCwoh13nkszE4DV2/u9EPDrt7/2CTLHY8m23TwxbVhcqjNypE4FXRbmmq6MQBeFmN67PeNfgJtzAOHt5+W7XA68CfpYnyEoLm3Qsm3tkNE9PQ2JCnLBqrAhIF3lyQq1odwjT7ls00wgaTN/V59XanbXQFO5NmpWD33wmq02E9AqsH4WGcbyx4vFyby1ubr0EWgV1UQRUh6R4+KQ6E6LiX6LYCZQhY1f2CiBaueZ1l1nMSF3plbrgp9ya46bXlL7bRSJIiecdw4wkYpz/idX4JuJ6S+fFK27mfq7mGkyjXeN5l/69CQTxqBp2UWnLZCkkS8qypPNUl/87zKWzSbMKnSKdQVQje9MADonkAVfX8ZmJlwRReLZVdt6bnEG1RaJN+dLOycyJETRPuB5yFCghKvoUbLbDFthVJAWRha5ABhRwiAt9+zMU1L+/vlYh8EZ9z+olQsoJxOm0mT7uEky44qH0BN4WXAKj15QvYabxCoMuU/wtLtw+ZKIBApyCS61JG3u3t/Qw/6AaAusoUD8zD8OI4NNoSpO4Z9YT/zccgYA3/f6lJ4W6FnlgnC+IWIKkT2OFnrrmyYgo72457PL/Uh2MZDT1c=
  - secure: HmOUYWrGz9XdMJ3+VRyX7kFx9LdOPSpYKRd2UP1qua5dmSkiIbop06liPMpWU7cuZcHFPNDX28Yh07aJaKLFXmR2o+USURmTFDv53x9fB4HuI0ndsaHkLcC+zBb8XP+0AnCW9Fyw8tIHBwYhCnl+VGeylIAsE1o65U1PCb50nAiZhHIR/q+uRIL/fGzVJduAxnc67gFjTh9sjXvt5io0g5dUYVhgrMJ3AHAjzBwR6rq1hmt9ys3F7JCCsZMhCuLVN+X5KQ31BRJPldM60yHk9spOWfCuIwNFgh8F899HEDGDCckBzP3aL1tQcd+xit1HF+wxfTNN9G210DVuu+gY8Uf58blFPkLgHiTVayV0brW/Lk/MDzIU+A+tY1rviGGCEM4IfiAWjCE/+VWfAFMr/29raNVrnpquX2nlCZZPYunwquJ5S/oVknwqq8Hw1tuQG5rl080HUKOYUtw3BdGhrbNc+2s3q5jJl5tFhp1Q73HZ/ln40V/Tz87SFWEY1AX2Y0j3+IfJR5hHWnewry0jYXQ9m5kblk0969Fk6bXKe14yUgD8/oHFmyNMJdp9wK9c3GNIdEFVpP7HCXtWLaJknUIVxCCwpo1Nvu39lYo9Fge6vNCXSAuEQrPUCa0GcEaZlrsCSWGQbFSSIVH6IRA6+bRjvQrGzyHTmdme2FXXOGo=
  - secure: AGtkbKLC7GTG4lv085ORzWznlEKvU7YQjobwFTrkrgFSwzppo6ZxrBdhKme9Yq6wETIfpKJPA0D3gqmYGV7BnAVElDJrQ5pE+TFdSZwnIO8JERH+GQ68smVetbZ5JA9WNVCAXnZJbJ2p28iELYbFckeekv5nFzePJ9W04IEKcaBBhPjHZ5dYGZCgxzPAMkvSgMZ3sNeAvn5OtzgkS3HYKBAQQVyUsNZCXrtpAbF1thlLhbLG7JjLEwIwH8RsSxb05c3otHMFGa7rIMIX41pDd4oZHMsHP1pqq326aZNXZ303cICzeSpU6y2Q2YeLiF/Max0gTIMc5tRn8iLRP7a/IvjmPsK+CJaXSr+sDTJFpVriOZFNCwwAfTNhutF0Fx9jZO/dMkLBikOUOPfjUmUqi/QyYv5+FMr1fBkA1C93w17tAeugjuX6jq5vxlT3vOdMk0M15Fv57XL3NyMI/pqtVwrwOAtmNn8xBPprTSXBF99hxq1rVFpez1cL62AdXTKn8+h5PGRzLGbawe2khCydgBz4xNAsNx1gRaRyORTIaVJ0Ih7/Q7DxZKoHEEeSc+3skps6oVNs2DqCvpSYRUaudwgMunV9l0V9YJu+NKqXYsBLU5l/WkSfhwBEXPITb9Oa0KvI72b3oVJYoUMGLn9RNWGdsx7aRRflXeJbrhlEi0w=
  - secure: xbQ2PTJIgH6DZf9LLV3fyPkfhk2ufdbEHI0xunYEvnt00Mn02AxMkGqGVXsHRB5e0BpwYLDGYm53bNtp8mbEP4pnbCRG0rjeHzqY6p9faorQ7Qxk2GJiFWxVPVyPVrgnu3yK5KOEs1KirPntMAPdJvPoMX5N6pOdRPUD8j6WUoCSEUtNgQPl5CkLVRsAl4phqmjACFEOeAq+XwOgZDH2YFtZqUc67WbA8IwJMXQ6tG2cO1pTK9wyFSE+4A4mD5Z0M23y/s950c6uSxD06k2eNTtNci48VoRimOU4inkaYTNi9ogFOk9Sjy+D5AhMiDVOgKmtI444yxbA/Lo2NtGpE42I8koKDBBd9iZVsQuKnUdgI0ZuQYQypJTm9iQYkKx3lVc9qzF63yW6D4HILq/iLDY6kYy7+eDc2w3+MVfrZ0pPq5nUvKyiJqsNWZmM6tciPR2yoJRLL8Rnez6aQai2DXEjK5gaJ22wX58iNqhiJf2MmoJj0/10j2lCaD0SrDGd6s/hlgZKVPixG0wfyTH8wXPWvl7Am5Zt1SK22o9izk9MAfT4A+noq4HtuzWyLbsQQQ+yZpdL5+/EPZqshNmQDKb2u92tgAHQC4LpYpuaPAkvQekinvwv7OHfl1QVcwq7nkmB/JiiKpRyKOSCatGzu1YSdAWv4i99mv/QtWlnplM=
  - secure: j5BryIVf+ZgYEPtm3AL8dtUVTjsTxFuopoE1qCOIxB81KlqA2lUZQC7b7DFryS5IDqOa9ViZgfk/JMOqQDXo8XgtUYywLdAobbcowK6ekfj0WGgQ+rV0zz3OzirY5nZvERF9WO8DqeqMQmYWRJbAZvkiBxWV1Gvf+hRdUDKfVj/MEgu/AyWzP8F0H9pz+vnP7mRxqMIEKgWGOFQSw2j8ua6q+uqu2vaHjDLup7VEZ8ZJ9YOxBme5lCCWPTgVbS/J/wdVA8mHhzLy0SbP9vgCOknFI4pFHvYue1IsOlxC1o3EFmhxZ8H5FwuYE7mlEJv6yXeQpu9DdKUT+al1pgc63XWfDE28LoIc8fvrsx0Qcf3SnP+A8zrLbskJk+UBMPkCwjAs++yiM2HngzHElJ4mk4X61jqrJ57BK7QXRyZs3NYdCKw6zlTn0lnYwclq+Hur0ZJpnH6rRWY1GbGfjdCXHUPg5R+/mMArdpfns/tMIMhYHfVRgbOe765sqlFkcocWr+V6iQ7SlNpxsBkZ+Bm/chNbOyeCYJoSQF5ozZlGy+68mo3ErGVK8e0MSvTHtgWDQqiWPrAfwQ9LqFrHPBRPbBDJnvlHsDE7wQ3xDXLelOp8EM3BpyjO7NXHRLp3Oz/w3eNe4wr9nLzOEK4u5RTvfRTwzjuknUGCvdj6Xu8goTU=
  - secure: nEeQ4/6+KSnyFv9j02kCRrsOcoXiEi0Yksl+I3PlRF/agykXwKnDEzhHkVEFuQfbpeKUEMUf27zxKCMnk2RcJX2ioB5ts9v0fGstMLyhQzRbCpaLr5o30YeQV9JQorVlyYTctJb3UQ8gY8k03rIo95Nwa8n5KnbHFUr5C68tcbvSKY0sWdPigZpAxzaep1o7xCZZbk0nriJA6YORv1Mr8aNqqQIH3ivHmG3kHdcAqbUpRaHwKiutxIBLtsGmtgpktgwqLoY3uXxEMWprbiuvYtW2Fi23tpKoEJnLRQ8Z0du8OSKZvnJnl8qfg7gCaj0f1qM91y9vD/OAFmmzB/d+FVp2w0JeH9dTkYS4cWjL01RdbfDwahQ3vrWRFDS7cO5ghFekap8ShGVAtjWCSmRRPQE3yJSquH8CLECJ5RKe/b8zIP/CW8IpLSfXk9ehoAhYmJA63CzRPY+5euqXiZnzaqclss3D48lt6W6O72soN4nqxtyAkfPpAr8f9EvyUufSIkVw6+TSfbTRBSVqARMZFG+pO+3BjpT0K+OYZZsRomX9uFyUmvim+ueQ4BNGc+Rp1TG4GU4BmzHPuX/Z0BGUk5itpWQHEnz/JX5F/l93N4tEv9QZac04lTRiv/gqeL+FYSNnGeygEKJr9iuepLPIf2ss2ioK43O3cDpC+QRuTa4=
