<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  
  <link rel="shortcut icon" href="../img/favicon.ico">
  <title>Solution Overview - Bmore-Responsive Wiki</title>
  <link href='https://fonts.googleapis.com/css?family=Lato:400,700|Roboto+Slab:400,700|Inconsolata:400,700' rel='stylesheet' type='text/css'>

  <link rel="stylesheet" href="../css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../css/theme_extra.css" type="text/css" />
  <link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/styles/github.min.css">
  
  <script>
    // Current page data
    var mkdocs_page_name = "Solution Overview";
    var mkdocs_page_input_path = "DevIntro.md";
    var mkdocs_page_url = null;
  </script>
  
  <script src="../js/jquery-2.1.1.min.js" defer></script>
  <script src="../js/modernizr-2.8.3.min.js" defer></script>
  <script src="//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/highlight.min.js"></script>
  <script>hljs.initHighlightingOnLoad();</script> 
  
</head>

<body class="wy-body-for-nav" role="document">

  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side stickynav">
      <div class="wy-side-nav-search">
        <a href=".." class="icon icon-home"> Bmore-Responsive Wiki</a>
        <div role="search">
  <form id ="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" title="Type search term here" />
  </form>
</div>
      </div>

      <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
	<ul class="current">
	  
          
            <li class="toctree-l1">
		
    <a class="" href="..">Home</a>
	    </li>
          
            <li class="toctree-l1">
		
    <span class="caption-text">For Users</span>
    <ul class="subnav">
                <li class="">
                    
    <a class="" href="../QuickStart/">Quick Start - Less than 10 min</a>
                </li>
                <li class="">
                    
    <a class="" href="../SlowStart/">Slow Start - Advanced Config</a>
                </li>
                <li class="">
                    
    <a class="" href="../HowToUse/">Users Guide</a>
                </li>
    </ul>
	    </li>
          
            <li class="toctree-l1">
		
    <span class="caption-text">For Developers</span>
    <ul class="subnav">
                <li class=" current">
                    
    <a class="current" href="./">Solution Overview</a>
    <ul class="subnav">
            
    <li class="toctree-l3"><a href="#components">Components</a></li>
    
        <ul>
        
            <li><a class="toctree-l4" href="#application-architecture">Application Architecture</a></li>
        
            <li><a class="toctree-l4" href="#api">API</a></li>
        
            <li><a class="toctree-l4" href="#cicd">CI/CD</a></li>
        
            <li><a class="toctree-l4" href="#data">Data</a></li>
        
            <li><a class="toctree-l4" href="#role-and-access-mgmt">Role and Access Mgmt</a></li>
        
        </ul>
    

    </ul>
                </li>
    </ul>
	    </li>
          
            <li class="toctree-l1">
		
    <span class="caption-text">For Everyone</span>
    <ul class="subnav">
                <li class="">
                    
    <a class="" href="../HowToContribute/">How to Contribute</a>
                </li>
                <li class="">
                    
    <a class="" href="../Code_of_Conduct/">Code of Conduct</a>
                </li>
    </ul>
	    </li>
          
        </ul>
      </div>
      &nbsp;
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" role="navigation" aria-label="top navigation">
        <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
        <a href="..">Bmore-Responsive Wiki</a>
      </nav>

      
      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="breadcrumbs navigation">
  <ul class="wy-breadcrumbs">
    <li><a href="..">Docs</a> &raquo;</li>
    
      
        
          <li>For Developers &raquo;</li>
        
      
    
    <li>Solution Overview</li>
    <li class="wy-breadcrumbs-aside">
      
    </li>
  </ul>
  <hr/>
</div>
          <div role="main">
            <div class="section">
              
                <p>Wanna improve Bmore Responsive? This page will provide an introduction the to the architecture, implementation and processes of Bmore Responsive.</p>
<h2 id="components">Components</h2>
<p>This application will be broken down into several components. Each will be outlined here.</p>
<h3 id="application-architecture">Application Architecture</h3>
<p>The overall application will have several components in support of the code. These will facilitate secure communication between any front end, our API, and the data layer. Additionally our architecture will be designed to be scalable for instances of heavy load.
<img alt="Application Architecture" src="../img/architecture-diagram.png" /></p>
<h3 id="api">API</h3>
<p>The API is the application for all intents and purposes. Use of the API and possible paths of use are defined in the flowchart below.
<img alt="API Flowchart" src="../img/api-flowchart.png" /></p>
<h3 id="cicd">CI/CD</h3>
<p>We will use TravisCI, Docker, Netlify, and AWS to provide constant code deployments and test coverage.
<img alt="CI/CD Pipeline" src="../img/cicd-pipeline.png" /></p>
<h3 id="data">Data</h3>
<p>This product makes use of <a href="https://www.postgresql.org/">PostgreSQL</a> for the data layer and <a href="https://sequelize.org/">Sequelize</a> for database interactions. Our database documentation can be found in the <code>/sequelize</code> directory. The schema is outlined below
<img alt="Database Diagram" src="../img/db-diagram.png" /></p>
<h4 id="migrations">Migrations</h4>
<p>Migrations are the scripts to create tables and initialize the database. Migrations can be written to run after the initial migration takes place.</p>
<p>It is important to note that the migrations run in sequential order, so using a numbering system is important. It is also important to note that FK columns and relationships can be <strong><em>and should be</em></strong> defined as their own migrations. This is to prevent errors of columns being created when the parent table no longer exists.</p>
<p>Individual migrations <em>can</em> be reverted as per the Sequelize documentation.</p>
<h4 id="data-seeders">Data Seeders</h4>
<p>A seeder is a script to seed a particular set of data. As with Migrations these scripts run in order, so numbering is important.</p>
<p>Because of FK constraints it is again important to note when data is seeded to prevent errors with FK constraints. Imports can be chained in a single seed script, and this may be useful and advised for seeded data that is related through a FK.</p>
<p>To create new models, migrations, and seeders you <em>must</em> use the Sequelize CLI commands. Full documentation is here https://sequelize.org/master/manual/migrations.html but here are a few useful commands:</p>
<ul>
<li><code>npx sequelize-cli model:generate --name User --attributes firstName:string,lastName:string,email:string</code> - Creates a model under <code>/src/models</code> and a migration script.</li>
<li><code>npx sequelize-cli seed:generate --name demo-user</code> - Creates a seeder for the <code>User</code> model and migration previously setup.</li>
</ul>
<h4 id="npm-commands">NPM commands</h4>
<p>This repo has simplified a few of the Sequelize CLI options that would be commonly used by this project.</p>
<ul>
<li><code>npm run db-create</code> will create the database and run all migrations.</li>
<li><code>npm run db-delete</code> will delete all tables and revert all migrations.</li>
<li><code>npm run db-seed</code> will run all seeders and populate all data.</li>
<li><code>npm run db-unseed</code> will delete all data in all tables and revert all seeders.</li>
</ul>
<h3 id="role-and-access-mgmt">Role and Access Mgmt</h3>
<p>User role management is being handled by <a href="https://casbin.org/">Casbin</a>. To facilitate this our migrations and seeding will replicate the <code>casbin_rule</code> table that would be generated by the casbin-sequelize package. We are then seeding as normal, however the field names are not straight-forward. They are defined as follows:</p>
<ul>
<li><code>role</code> = The plain-text name of the role. <em>Example:</em> <code>admin</code></li>
<li><code>path</code> = The path the role has access to. <em>Example:</em> <code>/user</code></li>
<li><code>method</code> = The http method that can be hit. <em>Example</em> <code>GET</code></li>
</ul>
<p>For use and management of roles after seeding, please refer to the API spec or Casbin Node.js documentation.</p>
              
            </div>
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="../HowToContribute/" class="btn btn-neutral float-right" title="How to Contribute">Next <span class="icon icon-circle-arrow-right"></span></a>
      
      
        <a href="../HowToUse/" class="btn btn-neutral" title="Users Guide"><span class="icon icon-circle-arrow-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <!-- Copyright etc -->
    
  </div>

  Built with <a href="http://www.mkdocs.org">MkDocs</a> using a <a href="https://github.com/snide/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>.
</footer>
      
        </div>
      </div>

    </section>

  </div>

  <div class="rst-versions" role="note" style="cursor: pointer">
    <span class="rst-current-version" data-toggle="rst-current-version">
      
      
        <span><a href="../HowToUse/" style="color: #fcfcfc;">&laquo; Previous</a></span>
      
      
        <span style="margin-left: 15px"><a href="../HowToContribute/" style="color: #fcfcfc">Next &raquo;</a></span>
      
    </span>
</div>
    <script>var base_url = '..';</script>
    <script src="../js/theme.js" defer></script>
      <script src="../search/main.js" defer></script>

</body>
</html>
